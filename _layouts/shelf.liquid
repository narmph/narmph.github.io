---
layout: page
---
{{ content }}

<!-- Tab navigation for Books/Movies -->
<div class="shelf-tabs">
  <button class="shelf-tab active" onclick="showShelf('books-section')">Books</button>
  <button class="shelf-tab" onclick="showShelf('movies-section')">Movies</button>
</div>

<!-- Books Section -->
<div id="books-section" class="shelf-section">
  <h1>Books</h1>
  {% assign books_collection = site.books %}
  {% if books_collection and books_collection.size > 0 %}
    {% assign books = books_collection | sort: "date" | reverse %}
    {% for item in books %}
      {% assign current_year = item.date | date: '%Y' %}
      {% if current_year != year %}
        {% unless forloop.first %}
          </ul>
        {% endunless %}
        <h2 id="book-y{{item.date | date: "%Y"}}">
          <a href="{{ current_year | prepend: '/shelf/books/' | relative_url }}">{{ current_year }}</a>
        </h2>
        <ul class="shelf-items">
          {% assign year = current_year %}
      {% endif %}

      <figure class="cover">
        <a class="cover-link" href="{{ item.url | relative_url }}">
          {% if item.cover %}
            <img alt="{{ item.title }} cover" src="{{ item.cover | prepend: page.covers | relative_url }}" style="height:200px">
          {% elsif item.olid %}
            <img alt="{{ item.title }} cover" src="http://covers.openlibrary.org/b/olid/{{ item.olid }}-L.jpg?default=false" style="height:200px">
          {% elsif item.isbn %}
            <img alt="{{ item.title }} cover" src="http://covers.openlibrary.org/b/isbn/{{ item.isbn }}-L.jpg?default=false" style="height:200px">
          {% endif %}
          {% if item.status %}
            {% assign statuses = 'abandoned,finished,interested,paused,queued,reading,reread' | split: ',' %}
            {% assign status = item.status | downcase | strip %}
            {% if statuses contains status %}
              <figcaption class="{{ status | downcase }}">{{ status | upcase }}</figcaption>
            {% else %}
              <figcaption class="uncategorized">UNCATEGORIZED</figcaption>
            {% endif %}
          {% else %}
            <figcaption class="uncategorized">UNCATEGORIZED</figcaption>
          {% endif %}
        </a>
      </figure>
      {% if forloop.last %}
        </ul>
      {% endif %}
    {% endfor %}
  {% else %}
    <p>No books found.</p>
  {% endif %}
</div>

<!-- Movies Section -->
<div id="movies-section" class="shelf-section" style="display: none;">
  <h1>Movies</h1>
  {% assign movies_collection = site.movies %}
  {% if movies_collection and movies_collection.size > 0 %}
    {% assign movies = movies_collection | sort: "date" | reverse %}
    {% for item in movies %}
      {% assign current_year = item.date | date: '%Y' %}
      {% if current_year != movie_year %}
        {% unless forloop.first %}
          </ul>
        {% endunless %}
        <h2 id="movie-y{{item.date | date: "%Y"}}">
          <a href="{{ current_year | prepend: '/shelf/movies/' | relative_url }}">{{ current_year }}</a>
        </h2>
        <ul class="shelf-items">
          {% assign movie_year = current_year %}
      {% endif %}

      <figure class="cover">
        <a class="cover-link" href="{{ item.url | relative_url }}">
          {% if item.poster %}
            <img alt="{{ item.title }} poster" src="{{ item.poster | prepend: page.covers | relative_url }}" style="height:200px">
          {% endif %}
          {% if item.status %}
            {% assign movie_statuses = 'abandoned,finished,interested,paused,queued,watching,rewatched' | split: ',' %}
            {% assign status = item.status | downcase | strip %}
            {% if movie_statuses contains status %}
              <figcaption class="{{ status | downcase }}">{{ status | upcase }}</figcaption>
            {% else %}
              <figcaption class="uncategorized">UNCATEGORIZED</figcaption>
            {% endif %}
          {% else %}
            <figcaption class="uncategorized">UNCATEGORIZED</figcaption>
          {% endif %}
        </a>
      </figure>
      {% if forloop.last %}
        </ul>
      {% endif %}
    {% endfor %}
  {% else %}
    <p>No movies found.</p>
  {% endif %}
</div>

<script>
  function showShelf(sectionId) {
    // Hide all shelf sections
    var sections = document.getElementsByClassName('shelf-section');
    for (var i = 0; i < sections.length; i++) {
      sections[i].style.display = 'none';
    }
    
    // Deactivate all tabs
    var tabs = document.getElementsByClassName('shelf-tab');
    for (var i = 0; i < tabs.length; i++) {
      tabs[i].classList.remove('active');
    }
    
    // Show the selected section
    document.getElementById(sectionId).style.display = 'block';
    
    // Activate the clicked tab
    var activeTabIndex = (sectionId === 'books-section') ? 0 : 1;
    tabs[activeTabIndex].classList.add('active');
  }
</script>

<style>
  .shelf-tabs {
    display: flex;
    border-bottom: 1px solid #ddd;
    margin-bottom: 20px;
  }
  
  .shelf-tab {
    background-color: transparent;
    border: none;
    padding: 10px 20px;
    cursor: pointer;
    font-size: 16px;
    transition: background-color 0.3s;
  }
  
  .shelf-tab:hover {
    background-color: #f5f5f5;
  }
  
  .shelf-tab.active {
    border-bottom: 3px solid var(--global-theme-color);
    font-weight: bold;
  }
  
  .shelf-items {
    display: flex;
    flex-wrap: wrap;
    gap: 15px;
    padding: 0;
    list-style-type: none;
  }
  
  .cover {
    margin: 0;
    position: relative;
    transition: transform 0.3s;
  }
  
  .cover:hover {
    transform: translateY(-5px);
  }
  
  figcaption {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    padding: 5px;
    text-align: center;
    font-size: 12px;
    font-weight: bold;
    color: white;
  }
  
  .reading, .watching { background-color: #4CAF50; }
  .finished { background-color: #2196F3; }
  .queued { background-color: #FF9800; }
  .interested { background-color: #9C27B0; }
  .abandoned { background-color: #F44336; }
  .paused { background-color: #607D8B; }
  .reread, .rewatched { background-color: #009688; }
  .uncategorized { background-color: #9E9E9E; }
</style>